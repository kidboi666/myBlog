generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model category {
  id                               BigInt @id @default(autoincrement())
  name                             String @unique
  post_post_categoryIdTocategory   post[] @relation("post_categoryIdTocategory")
  post_post_categoryNameTocategory post[] @relation("post_categoryNameTocategory")
}

model post {
  title                                String
  content                              String
  image                                String?
  createdAt                            DateTime  @default(now())
  id                                   BigInt    @id @default(autoincrement())
  categoryId                           BigInt
  categoryName                         String?
  category_post_categoryIdTocategory   category  @relation("post_categoryIdTocategory", fields: [categoryId], references: [id], onDelete: Cascade)
  category_post_categoryNameTocategory category? @relation("post_categoryNameTocategory", fields: [categoryName], references: [name], onDelete: NoAction, onUpdate: NoAction)
}
